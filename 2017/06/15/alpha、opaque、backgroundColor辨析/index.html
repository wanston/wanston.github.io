<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="alphaalpha是一个CGFloat类型的值，取值从0.0到1.0，代表从完全透明到完全不透明。其默认值是1.0。alpha的值不为1.0，就代表这个视图是（半）透明的。透明的含义是：能看到该视图下层视图的内容，但是不能保证看到下下层视图的内容。能不能看到下下层视图的内容，取决于下层视图的alpha。最后具体的显示效果，是由上到下，所有视图的颜色进行叠加的效果。
需要注意的是，当给一个View">
<meta property="og:type" content="article">
<meta property="og:title" content="alpha、opaque、backgroundColor辨析">
<meta property="og:url" content="http://yoursite.com/2017/06/15/alpha、opaque、backgroundColor辨析/index.html">
<meta property="og:site_name" content="Mr.W的文字站">
<meta property="og:description" content="alphaalpha是一个CGFloat类型的值，取值从0.0到1.0，代表从完全透明到完全不透明。其默认值是1.0。alpha的值不为1.0，就代表这个视图是（半）透明的。透明的含义是：能看到该视图下层视图的内容，但是不能保证看到下下层视图的内容。能不能看到下下层视图的内容，取决于下层视图的alpha。最后具体的显示效果，是由上到下，所有视图的颜色进行叠加的效果。
需要注意的是，当给一个View">
<meta property="og:image" content="http://yoursite.com/images/alpha、opaque、backgroundColor辨析/blue.png">
<meta property="og:image" content="http://yoursite.com/images/alpha、opaque、backgroundColor辨析/purple.png">
<meta property="og:updated_time" content="2017-07-04T09:01:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="alpha、opaque、backgroundColor辨析">
<meta name="twitter:description" content="alphaalpha是一个CGFloat类型的值，取值从0.0到1.0，代表从完全透明到完全不透明。其默认值是1.0。alpha的值不为1.0，就代表这个视图是（半）透明的。透明的含义是：能看到该视图下层视图的内容，但是不能保证看到下下层视图的内容。能不能看到下下层视图的内容，取决于下层视图的alpha。最后具体的显示效果，是由上到下，所有视图的颜色进行叠加的效果。
需要注意的是，当给一个View">
<meta name="twitter:image" content="http://yoursite.com/images/alpha、opaque、backgroundColor辨析/blue.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/06/15/alpha、opaque、backgroundColor辨析/"/>





  <title> alpha、opaque、backgroundColor辨析 | Mr.W的文字站 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-103060845-1', 'auto');
  ga('send', 'pageview');
</script>











  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Mr.W的文字站</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">727348402@qq.com，欢迎交流~</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/15/alpha、opaque、backgroundColor辨析/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Mr.W">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Mr.W的文字站">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Mr.W的文字站" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                alpha、opaque、backgroundColor辨析
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-15T20:02:54+08:00">
                2017-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i> 浏览
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
            </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="alpha"><a href="#alpha" class="headerlink" title="alpha"></a>alpha</h1><p>alpha是一个CGFloat类型的值，取值从0.0到1.0，代表从完全透明到完全不透明。其默认值是1.0。alpha的值不为1.0，就代表这个视图是（半）透明的。透明的含义是：能看到该视图下层视图的内容，但是不能保证看到下下层视图的内容。能不能看到下下层视图的内容，取决于下层视图的alpha。最后具体的显示效果，是由上到下，所有视图的颜色进行叠加的效果。</p>
<p>需要注意的是，当给一个View的alpha赋值时，改变的是其视图所有内容的透明度，即包括其子视图的透明度，但是其子视图的alpha属性的值不会随着父视图alpha的赋值而改变。</p>
<p>为了便于理解，举例来说明。</p>
<h2 id="例子一"><a href="#例子一" class="headerlink" title="例子一"></a>例子一</h2><p>视图层级如下所示，红色的UIView覆盖在UIImageView上，红色的UIView中还有一个蓝色的UIView子视图。</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">UIView</div><div class="line">　　-&gt;UIImageView </div><div class="line">　　-&gt;UIView 　　　　<span class="built_in">alpha</span> = <span class="number">0.5</span> <span class="built_in">color</span> = <span class="built_in">red</span></div><div class="line">　　　　-&gt;UIView 　　<span class="built_in">alpha</span> = <span class="number">1.0</span> <span class="built_in">color</span> = <span class="built_in">blue</span></div></pre></td></tr></table></figure>
<p>父视图设置背景色的是红色，赋值alpha为0.5；子视图设置背景色是蓝色，alpha默认。在viewDidAppear中打印两个UIView的alpha，父视图的alpha是0.5，子视图的alpha是1.0。<br>实际上看到的效果，如下图所示。</p>
<p><img src="/images/alpha、opaque、backgroundColor辨析/blue.png" alt=""></p>
<p>可以看到，子视图未覆盖到的父视图区域半透明的红色覆盖图片，这很容易理解，因为父视图的alpha是0.5。在子UIView覆盖到的区域，是半透明的蓝色覆盖着图片。明明子UIView的alpha是1.0，为什么会透明呢？而且，就算透明为什么不是蓝色加红色生成紫色呢？中间的红色去哪了？</p>
<p>首先不考虑父UIView的alpha，暂且认为其alpha是1.0。那么情况就是，一个蓝色的不透明视图，作为子视图被添进了一个红色的视图。这就导致父UIView的一部分被蓝色的子UIView给完全覆盖掉了，看不到红色了。我们看到的是一个红色不透明视图，其内部是不透明的蓝色视图。</p>
<p>然后由于父UIView的alpha是0.5，那么其所有的内容都是透明的。也就是上面的红色嵌蓝色的不透明视图，要都变为透明的。这就产生了最后的效果，也就是透明的红色嵌入透明的蓝色。</p>
<h2 id="例子二"><a href="#例子二" class="headerlink" title="例子二"></a>例子二</h2><figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">UIView</div><div class="line">　　-&gt;UIImageView </div><div class="line">　　-&gt;UIView　　　　<span class="built_in">alpha</span> = <span class="number">0.5</span> 　<span class="built_in">color</span> = <span class="built_in">red</span></div><div class="line">　　　　-&gt;UIView　　<span class="built_in">alpha</span> = <span class="number">0.5</span> 　<span class="built_in">color</span> = <span class="built_in">blue</span></div></pre></td></tr></table></figure>
<p>父UIView设置背景色的是红色，赋值alpha为0.5；子UIView设置背景色是蓝色，alpha为0.5。那么分析一下：首先是半透明的蓝色视图覆盖在红色视图上，看到的是紫色的视图。然后由于父UIView的alpha是0.5，那么看到半透明的紫色视图嵌在半透明的红色视图里面。实际的效果如下图所示，与我们的分析相符合。</p>
<p><img src="/images/alpha、opaque、backgroundColor辨析/purple.png" alt=""></p>
<h1 id="backgroundColor的alpha"><a href="#backgroundColor的alpha" class="headerlink" title="backgroundColor的alpha"></a>backgroundColor的alpha</h1><p>backgroundColor属性设置的是视图的背景色，为UIColor对象，UIColor可以设置成带有alpha的颜色。需要注意的有两点。<br>如果设置backgroundColor的alpha，那么只影响当前UIView的背景，并不影响其所有子视图的透明度。这就是同UIView的alpha的区别。<br>UIView的alpha会和backgroundColor的alpha共同作用，产生最终的视觉效果。例如，backgroundColor的alpha为0.5，UIView的alpha为0.5，那么最后的视觉效果是0.25的alpha。</p>
<h1 id="opaque"><a href="#opaque" class="headerlink" title="opaque"></a>opaque</h1><p>此属性是BOOL值。官方文档的介绍是这样的。</p>
<blockquote>
<p>A Boolean value that determines whether the view is opaque.<br>This property provides a hint to the drawing system as to how it should treat the view. If set to YES, the drawing system treats the view as fully opaque, which allows the drawing system to optimize some drawing operations and improve performance. If set to NO, the drawing system composites the view normally with other content. The default value of this property is YES.<br>An opaque view is expected to fill its bounds with entirely opaque content—that is, the content should have an alpha value of 1.0. If the view is opaque and either does not fill its bounds or contains wholly or partially transparent content, the results are unpredictable. You should always set the value of this property to NO if the view is fully or partially transparent.<br>You only need to set a value for the opaque property in subclasses of UIView that draw their own content using the drawRect: method. The opaque property has no effect in system-provided classes such as UIButton, UILabel, UITableViewCell, and so on.</p>
</blockquote>
<ul>
<li>当该属性是NO的时候，绘制系统会综合该视图和下层视图的内容，产生最终的显示结果。</li>
<li>当该属性是YES的时候，表示用户清楚该视图完全不透明，绘制系统会直接显示该视图的内容，不会把其内容和下层视图的内容综合，这就避免了额外的计算开销。不过此时其视图的内容必须alpha等于1.0，否则结果不可预测。该属性默认是YES。</li>
</ul>
<p>该属性本质上是一个性能开关，在用户确定视图是不透明的时候，才能把该属性赋值为YES，这样会节省大量计算资源。</p>
<p>但是经过实际的实验，发现如果UIView的alpha是0.5，opaque是YES，还是会产生透明的效果。这表示虽然设置了opaque是YES，绘制系统还是把UIView和覆盖的视图内容结合起来了。我认为，iOS是有一个判断的，当alpha是不为1.0的时候，无论opaque的值是YES还是NO，绘制系统都会把UIView和覆盖的UIView进行混合。</p>
<p>UIView的layer也有opaque属性。和UIView的opaque属性不同，改变layer的这个属性是有直接效果的。layer的该属性控制着传给drawRect:方法的CGContext对象的alpha通道。当layer的opaque属性是YES的时候，CGContext是没有alpha通道的，意味着每一个像素的alpha都是1.0，是不透明的。</p>
<p>改变UIView的opaque不会影响layer的opaque。与此对应的是，改变UIView的alpha会影响layer的opacity。因为alpha就是对opacity的一个封装。</p>
<h1 id="hidden"><a href="#hidden" class="headerlink" title="hidden"></a>hidden</h1><p>此属性为BOOL值，用来表示UIView是否隐藏。关于隐藏大家都知道就是让UIView不显示而已，但是需要注意的是：</p>
<ul>
<li>当前UIView的所有subview也会被隐藏，但不改变subview的hidden属性。</li>
<li>当前UIView也会从响应链中移除。</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/03/24/OC-Runime-一/" rel="next" title="OC-Runime(一)">
                <i class="fa fa-chevron-left"></i> OC-Runime(一)
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/06/19/iOS中的离屏渲染/" rel="prev" title="iOS中的离屏渲染">
                iOS中的离屏渲染 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="Mr.W" />
          <p class="site-author-name" itemprop="name">Mr.W</p>
           
              <p class="site-description motion-element" itemprop="description">一个不善表达的工科男</p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#alpha"><span class="nav-number">1.</span> <span class="nav-text">alpha</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#例子一"><span class="nav-number">1.1.</span> <span class="nav-text">例子一</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#例子二"><span class="nav-number">1.2.</span> <span class="nav-text">例子二</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#backgroundColor的alpha"><span class="nav-number">2.</span> <span class="nav-text">backgroundColor的alpha</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#opaque"><span class="nav-number">3.</span> <span class="nav-text">opaque</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#hidden"><span class="nav-number">4.</span> <span class="nav-text">hidden</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mr.W</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i> 访问人数<span class="busuanzi-value" id="busuanzi_value_site_uv"></span>次</span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i> 总访问量<span class="busuanzi-value" id="busuanzi_value_site_pv"></span>次</span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


</body>
</html>
