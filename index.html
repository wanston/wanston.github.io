<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Stay hungry, stay foolish.">
<meta property="og:type" content="website">
<meta property="og:title" content="Wanston's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Wanston's Blog">
<meta property="og:description" content="Stay hungry, stay foolish.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wanston's Blog">
<meta name="twitter:description" content="Stay hungry, stay foolish.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> Wanston's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Wanston's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">This blog is for wanston in HUST.</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/15/alpha、opaque、backgroundColor辨析/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="wanston">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wanston's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wanston's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/06/15/alpha、opaque、backgroundColor辨析/" itemprop="url">
                  alpha、opaque、backgroundColor辨析
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-15T20:02:54+08:00">
                2017-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/06/15/alpha、opaque、backgroundColor辨析/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/06/15/alpha、opaque、backgroundColor辨析/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="alpha"><a href="#alpha" class="headerlink" title="alpha"></a>alpha</h1><p>alpha是一个CGFloat类型的值，取值从0.0到1.0，代表从完全透明到完全不透明。其默认值是1.0。alpha的值不为1.0，就代表这个视图是（半）透明的。透明的含义是：能看到该视图下层视图的内容，但是不能保证看到下下层视图的内容。能不能看到下下层视图的内容，取决于下层视图的alpha。最后具体的显示效果，是由上到下，所有视图的颜色进行叠加的效果。</p>
<p>需要注意的是，当给一个View的alpha赋值时，改变的是其视图所有内容的透明度，即包括其子视图的透明度，但是其子视图的alpha属性的值不会随着父视图alpha的赋值而改变。</p>
<p>为了便于理解，举例来说明。</p>
<h2 id="例子一"><a href="#例子一" class="headerlink" title="例子一"></a>例子一</h2><p>视图层级如下所示，红色的UIView覆盖在UIImageView上，红色的UIView中还有一个蓝色的UIView子视图。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">UIView</div><div class="line">　　-&gt;UIImageView </div><div class="line">　　-&gt;UIView 　　　　alpha = 0.5 color = red</div><div class="line">　　　　-&gt;UIView 　　alpha = 1.0 color = yellow</div></pre></td></tr></table></figure>
<p>父视图设置背景色的是红色，赋值alpha为0.5；子视图设置背景色是蓝色，alpha默认。在viewDidAppear中打印两个UIView的alpha，父视图的alpha是0.5，子视图的alpha是1.0。<br>实际上看到的效果，如下图所示。</p>
<p><img src="/images/alpha、opaque、backgroundColor辨析/blue.png" alt=""></p>
<p>可以看到，子视图未覆盖到的父视图区域半透明的红色覆盖图片，这很容易理解，因为父视图的alpha是0.5。在子UIView覆盖到的区域，是半透明的蓝色覆盖着图片。明明子UIView的alpha是1.0，为什么会透明呢？而且，就算透明为什么不是蓝色加红色生成紫色呢？中间的红色去哪了？</p>
<p>首先不考虑父UIView的alpha，暂且认为其alpha是1.0。那么情况就是，一个蓝色的不透明视图，作为子视图被添进了一个红色的视图。这就导致父UIView的一部分被蓝色的子UIView给完全覆盖掉了，看不到红色了。我们看到的是一个红色不透明视图，其内部是不透明的蓝色视图。</p>
<p>然后由于父UIView的alpha是0.5，那么其所有的内容都是透明的。也就是上面的红色嵌蓝色的不透明视图，要都变为透明的。这就产生了最后的效果，也就是透明的红色嵌入透明的蓝色。</p>
<h2 id="例子二"><a href="#例子二" class="headerlink" title="例子二"></a>例子二</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">UIView</div><div class="line">　　-&gt;UIImageView </div><div class="line">　　-&gt;UIView　　　　alpha = 0.5 　color = red</div><div class="line">　　　　-&gt;UIView　　alpha = 0.5 　color = yellow</div></pre></td></tr></table></figure>
<p>父UIView设置背景色的是红色，赋值alpha为0.5；子UIView设置背景色是蓝色，alpha为0.5。那么分析一下：首先是半透明的蓝色视图覆盖在红色视图上，看到的是紫色的视图。然后由于父UIView的alpha是0.5，那么看到半透明的紫色视图嵌在半透明的红色视图里面。实际的效果如下图所示，与我们的分析相符合。</p>
<p><img src="/images/alpha、opaque、backgroundColor辨析/purple.png" alt=""></p>
<h1 id="backgroundColor的alpha"><a href="#backgroundColor的alpha" class="headerlink" title="backgroundColor的alpha"></a>backgroundColor的alpha</h1><p>backgroundColor属性设置的是视图的背景色，为UIColor对象，UIColor可以设置成带有alpha的颜色。需要注意的有两点。<br>如果设置backgroundColor的alpha，那么只影响当前UIView的背景，并不影响其所有子视图的透明度。这就是同UIView的alpha的区别。<br>UIView的alpha会和backgroundColor的alpha共同作用，产生最终的视觉效果。例如，backgroundColor的alpha为0.5，UIView的alpha为0.5，那么最后的视觉效果是0.25的alpha。</p>
<h1 id="opaque"><a href="#opaque" class="headerlink" title="opaque"></a>opaque</h1><p>此属性是BOOL值。官方文档的介绍是这样的。</p>
<blockquote>
<p>A Boolean value that determines whether the view is opaque.<br>This property provides a hint to the drawing system as to how it should treat the view. If set to YES, the drawing system treats the view as fully opaque, which allows the drawing system to optimize some drawing operations and improve performance. If set to NO, the drawing system composites the view normally with other content. The default value of this property is YES.<br>An opaque view is expected to fill its bounds with entirely opaque content—that is, the content should have an alpha value of 1.0. If the view is opaque and either does not fill its bounds or contains wholly or partially transparent content, the results are unpredictable. You should always set the value of this property to NO if the view is fully or partially transparent.<br>You only need to set a value for the opaque property in subclasses of UIView that draw their own content using the drawRect: method. The opaque property has no effect in system-provided classes such as UIButton, UILabel, UITableViewCell, and so on.</p>
</blockquote>
<ul>
<li>当该属性是NO的时候，绘制系统会综合该视图和下层视图的内容，产生最终的显示结果。</li>
<li>当该属性是YES的时候，表示用户清楚该视图完全不透明，绘制系统会直接显示该视图的内容，不会把其内容和下层视图的内容综合，这就避免了额外的计算开销。不过此时其视图的内容必须alpha等于1.0，否则结果不可预测。该属性默认是YES。</li>
</ul>
<p>该属性本质上是一个性能开关，在用户确定视图是不透明的时候，才能把该属性赋值为YES，这样会节省大量计算资源。</p>
<p>但是经过实际的实验，发现如果UIView的alpha是0.5，opaque是YES，还是会产生透明的效果。这表示虽然设置了opaque是YES，绘制系统还是把UIView和覆盖的视图内容结合起来了。我认为，iOS是有一个判断的，当alpha是不为1.0的时候，无论opaque的值是YES还是NO，绘制系统都会把UIView和覆盖的UIView进行混合。</p>
<p>UIView的layer也有opaque属性。和UIView的opaque属性不同，改变layer的这个属性是有直接效果的。layer的该属性控制着传给drawRect:方法的CGContext对象的alpha通道。当layer的opaque属性是YES的时候，CGContext是没有alpha通道的，意味着每一个像素的alpha都是1.0，是不透明的。</p>
<p>改变UIView的opaque不会影响layer的opaque。与此对应的是，改变UIView的alpha会影响layer的opacity。因为alpha就是对opacity的一个封装。</p>
<h1 id="hidden"><a href="#hidden" class="headerlink" title="hidden"></a>hidden</h1><p>此属性为BOOL值，用来表示UIView是否隐藏。关于隐藏大家都知道就是让UIView不显示而已，但是需要注意的是：</p>
<ul>
<li>当前UIView的所有subview也会被隐藏，但不改变subview的hidden属性。</li>
<li>当前UIView也会从响应链中移除。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/24/OC-Runime-一/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="wanston">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wanston's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wanston's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/24/OC-Runime-一/" itemprop="url">
                  OC-Runime(一)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-24T20:12:04+08:00">
                2017-03-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/03/24/OC-Runime-一/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/03/24/OC-Runime-一/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>当你给一个对象发送消息时,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">id p = [object message];</div></pre></td></tr></table></figure></p>
<p>runtime机制会通过object的isa指针来寻找object对应的class里面的message方法的实现。在发送消息之前，会先进行调用respondsToSelector:来检查object能不能响应该消息。在返回值是YES的情况下，才会真正进行消息的分发。</p>
<p>在 respondsToSelector:或instances​Respond​To​Selector:​ 里面，会首先检查用户是否有动态添加该方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[[object class] resolveInstanceMethod:(SEL)name];</div></pre></td></tr></table></figure></p>
<p>+(BOOL)resolveInstanceMethod:(SEL)name这个方法允许你动态添加method到class里面。然后返回YES的话，会让respondsToSelector返回YES，返回NO的话，respondsToSelector:里面会在对应的class里面寻找对应method的实现，然后把检查结果返回。<br>具体的动态添加方法的代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">void dynamicMethodIMP(id self, SEL _cmd)</div><div class="line">&#123;</div><div class="line">    // implementation ....</div><div class="line">&#125;</div><div class="line"></div><div class="line">+ (BOOL) resolveInstanceMethod:(SEL)aSEL</div><div class="line">&#123;</div><div class="line">    if (aSEL == @selector(resolveThisMethodDynamically))</div><div class="line">    &#123;</div><div class="line">          class_addMethod([self class], aSEL, (IMP) dynamicMethodIMP, &quot;v@:&quot;);</div><div class="line">          return YES;</div><div class="line">    &#125;</div><div class="line">    return [super resolveInstanceMethod:aSel];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>如果respondsToSelector:返回值是NO，那么- (id)forwardingTargetForSelector:(SEL)aSelector会被调用，来询问message消息是否有转发对象。然后让该转发对象执行message方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[object forwardingTargetForSelector:@selecter(message)];</div></pre></td></tr></table></figure></p>
<p>这个方法返回一个转发对象，如果这个转发对象能够响应@selector(message)，那么这个对象就会执行message这个方法。对用户来讲就好像是原本的message方法被调用一样，最终也是p得到返回值。这个就是runtime的消息转发机制。</p>
<p>如果上面的方法返回nil，那么消息</p>
<ul>
<li>(NSMethodSignature <em>)methodSignatureForSelector:(SEL)aSelector 会被发送，用以得到一个method signature从而来构造一个invocation。如果得到了method signature，那么会把构造的invocation作为参数，- (void)forwardInvocation:(NSInvocation </em>)anInvocation 消息会被发送。在这个方法里面你可以解析invocation，然后调用任何方法，进行自己想要做的任何事情，还可以设置invocation的返回值。这个返回值会作为最初发送的消息返回值进行返回。这个也是runtime的消息转发机制的一部分。</li>
</ul>
<p>最后如果没有得到任何method signature，然后runtime机制会发送- (void)doesNotRecognizeSelector:(SEL)aSelector 消息给object，这个方法在NSObject里面实现，用来制造出一个异常exception。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/28/iOS链式编程/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="wanston">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wanston's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wanston's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/28/iOS链式编程/" itemprop="url">
                  iOS链式编程
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-28T16:57:01+08:00">
                2017-02-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/28/iOS链式编程/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/28/iOS链式编程/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>链式编程最直观的就是Masonry,常见又好用，大大增加代码可读性。<br>下面是一个链式编程的例子。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">#import &quot;ViewController.h&quot;</div><div class="line"></div><div class="line">@interface ViewController ()</div><div class="line">@property (nonatomic) ViewController* (^print)(NSInteger);</div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line"></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line">    // Do any additional setup after loading the view, typically from a nib.</div><div class="line">    self.print(1)</div><div class="line">        .print(2)</div><div class="line">        .print(3);</div><div class="line">&#125;</div><div class="line"></div><div class="line">- ( ViewController*(^)(NSInteger) )print&#123;</div><div class="line">    return ^(NSInteger num)&#123;</div><div class="line">        NSLog(@&quot;wanston log: %ld&quot;, (long)num);</div><div class="line">        return self;</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>执行完上面代码之后，打印出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">2017-02-28 16:54:29.095 chainProgramming[4078:116402] wanston log: 1</div><div class="line">2017-02-28 16:54:29.096 chainProgramming[4078:116402] wanston log: 2</div><div class="line">2017-02-28 16:54:29.097 chainProgramming[4078:116402] wanston log: 3</div></pre></td></tr></table></figure></p>
<p>上面的代码中，ViewController类有一个print属性，还有一个print方法。print方法就是print属性的getter方法。所以，self.print 等同于[self print]，返回的是一个block。self.print(1)，等同于block(1)，即调用了这个block。调用完block之后，返回值是self，所以又可以在后面添加.print()来继续调用，从而实现了链式编程。实际上print的property声明可以不要。可以直接通过点来调用方法。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/19/iOS绘图之drawRect/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="wanston">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wanston's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wanston's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/19/iOS绘图之drawRect/" itemprop="url">
                  iOS绘图之drawRect:
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-19T15:41:45+08:00">
                2017-02-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/19/iOS绘图之drawRect/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/19/iOS绘图之drawRect/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="drawRect-中的官方注释"><a href="#drawRect-中的官方注释" class="headerlink" title="drawRect:中的官方注释"></a>drawRect:中的官方注释</h1><p>新建一个UIView的子类，Xcode会自动生成下面的代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line">// Only override drawRect: if you perform custom drawing.</div><div class="line">// An empty implementation adversely affects performance during animation.</div><div class="line">- (void)drawRect:(CGRect)rect</div><div class="line">&#123;</div><div class="line">    // Drawing code</div><div class="line">&#125;</div><div class="line">*/</div></pre></td></tr></table></figure></p>
<p>下面解释为什么会有这样一段注释。</p>
<h1 id="UIView的显示"><a href="#UIView的显示" class="headerlink" title="UIView的显示"></a>UIView的显示</h1><p>查看UIView.h，发现UIView有如下的一个@property<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@property(nonatomic,readonly,strong)                 CALayer  *layer;              // returns view&apos;s layer. Will always return a non-nil value. view is layer&apos;s delegate</div></pre></td></tr></table></figure></p>
<p>UIView的显示实际上由CALayer所负责，显示什么内容由CALayer的属性contents决定，这个contents就是CALayer的backing store。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">/* An object providing the contents of the layer, typically a CGImageRef,</div><div class="line"> * but may be something else. (For example, NSImage objects are</div><div class="line"> * supported on Mac OS X 10.6 and later.) Default value is nil.</div><div class="line"> * Animatable. */</div><div class="line"></div><div class="line">@property(nullable, strong) id contents;</div></pre></td></tr></table></figure></p>
<p>UIView根据-drawRect是否存在，来决定绘制的一系列细节，即使-drawRect:里面什么都不做。我通过实验验证，得到如下结果：</p>
<p>如果-drawRect: 存在：</p>
<ul>
<li>view.layer不为nil；</li>
<li>view.layer.contents不为nil；</li>
<li>-drawLayer:inContext:会被调用，继而在里面调用 -drawRect:。</li>
</ul>
<p>如果-drawRect: 不存在：</p>
<ul>
<li>view.layer不为nil；</li>
<li>view.layer.contents为nil；</li>
<li>-drawLayer:inContext:不会被调用。</li>
</ul>
<p>需要注意的是，view.layer.contents是否为nil，仅仅与本视图是否实现了-drawRect:有关，与view的子视图是否实现-drawRect:无关。</p>
<p>每一个UIView都是它的CALayer的delegate，UIView实现了 @protocol CALayerDelegate <nsobject> 的 -drawLayer:inContext: 方法，在该方法里面UIView会做一些事情然后调用 -drawRect:。</nsobject></p>
<p>所以我们的自定义绘制任务可以在UIView子类的 -drawRect: 方法里面实现。也可以在UIView子类里面重写 -drawLayer:inContext: 方法，在该方法里面实现自定义绘制任务，这样的话 -drawRect: 方法就不会被调用了。</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>回过头来看，An empty implementation adversely affects performance during animation的原因是空的-drawRect:也会导致layer使用内存作为backing store，从而影响整个图层绘制的性能。</p>
<p>相关链接：</p>
<ol>
<li><a href="http://stackoverflow.com/questions/4979192/ios-using-uiviews-drawrect-vs-its-layers-delagate-drawlayerincontext" target="_blank" rel="external">iOS: Using UIView’s ‘drawRect:’ vs. its layer’s delagate ‘drawLayer:inContext:’</a></li>
<li><a href="http://stackoverflow.com/questions/18748276/why-an-empty-implementation-of-drawrect-will-adversely-affect-performance-durin" target="_blank" rel="external">Why an empty implementation of drawRect: will adversely affect performance during animation</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/18/GitHub-Hexo搭建博客/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="wanston">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wanston's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wanston's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/18/GitHub-Hexo搭建博客/" itemprop="url">
                  GitHub+Hexo搭建博客
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-18T11:02:54+08:00">
                2017-02-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂七杂八/" itemprop="url" rel="index">
                    <span itemprop="name">杂七杂八</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/18/GitHub-Hexo搭建博客/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/18/GitHub-Hexo搭建博客/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>搭建个人博客首先需要一个服务器，然后在该服务器上安装服务器软件，搭建你的个人博客网站，这样别人才可以访问到你的个人博客。我们使用GitHub作为服务器，然后在本地安装hexo，hexo是一个开源的静态博客生成器，我们利用hexo生成自己的博客网站，把生成的网站文件push到自己的GitHub仓库中去，这样就可以通过GitHub Pages功能访问到自己的仓库，也就是访问到自己的个人博客。<br>下面就介绍如何一步步的搭建。</p>
<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><p>macOS Sierra 10.12</p>
<h1 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h1><h2 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h2><p>注册GitHub账号，新建repository，命名为<em>你的GitHub用户名.github.io</em>，我的就是<em>wanston.github.io</em>。<br>进入该repository的setting，确保GitHub Pages已经启用。启用之后会这样显示：</p>
<p><img src="/images/GitHub-Hexo搭建博客/1.png" alt=""></p>
<p>如果没能开启GitHub Pages的话，检查一下你的repository里面是不是空的，如果是空的，就添加一个文件使其非空就可以了。我一开始就是没能开启，然后添加了README.md文件就可以了。</p>
<h2 id="安装node-js"><a href="#安装node-js" class="headerlink" title="安装node.js"></a>安装node.js</h2><p>因为hexo是使用node.js开发的，所以首先安装<a href="https://nodejs.org/en/" target="_blank" rel="external">node.js</a>。</p>
<h2 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h2><p><a href="https://hexo.io/zh-cn/" target="_blank" rel="external">hexo官网点这里</a>。<br>打开terminal，新建一个文件夹，用于安装hexo，然后进入该文件夹，写入下列命令行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ mkdir Blog</div><div class="line">$ cd Blog</div><div class="line">$ sudo npm install -g hexo</div><div class="line">$ hexo init</div><div class="line">$ npm install hexo-deployer-openshift --save // 安装deploy插件，用于推送到git仓库</div><div class="line">$ hexo generate // 生成博客</div><div class="line">$ hexo server // 打开本地服务器</div></pre></td></tr></table></figure>
<p>此时打开<em><a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a></em>，就会看到已经生成的博客是什么样子。</p>
<h2 id="配置hexo"><a href="#配置hexo" class="headerlink" title="配置hexo"></a>配置hexo</h2><p>在安装hexo的文件夹（我的是Blog/）下，打开站点配置文件_config.yml，在文件末尾添加你的GitHub仓库的地址，如下图所示。这样本地的文章才能deploy到GitHub仓库。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repo: https://github.com/wanston/wanston.github.io.git</div><div class="line">  branch: master</div></pre></td></tr></table></figure>
<p>此时执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>然后，就可以通过<em><a href="http://wanston.github.io" target="_blank" rel="external">http://wanston.github.io</a></em>访问你的博客站了。</p>
<p>在文件_config.yml里面，同样可以配置博客站点的各种信息，包括标题、作者、语言、头像等等。<br>需要注意的是，在该文件里面如果要索引一个本地文件，根目录/代表的是，hexo文件夹/source/，我的就是Blog/source/。</p>
<h2 id="第一篇博客"><a href="#第一篇博客" class="headerlink" title="第一篇博客"></a>第一篇博客</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new &quot;我的第一篇文章&quot; #新建文章</div></pre></td></tr></table></figure>
<p>新建的文章的本地路径是 <em>Blog/source/_posts/我的第一篇文章.md</em>，编辑该文件，就可以用markdown语法写博客了。写完之后就generate和deploy就可以了。</p>
<h2 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h2><p>我的博客的主题是NexT，GitHub上搜hexo-theme-next就能找到。<br>使用该主题的具体方法见该主题的<a href="http://theme-next.iissnan.com" target="_blank" rel="external">官网</a>。</p>
<h2 id="添加categories和tags页面"><a href="#添加categories和tags页面" class="headerlink" title="添加categories和tags页面"></a>添加categories和tags页面</h2><p>写文章的时，在文章开始加入categories和tags字段，为文章分类和添加标签。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">---</div><div class="line">title: GitHub+Hexo搭建博客</div><div class="line">date: 2017-02-18 11:02:54</div><div class="line">categories: 杂七杂八</div><div class="line">tags: Hexo</div><div class="line">---</div></pre></td></tr></table></figure>
<p>deploy之后，点进categories和tags页面会发现啥都没有，因为此时博客站上并没有这两个页面，解决办法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ hexo new page tags</div><div class="line">$ hexo new page categories</div><div class="line">$ vim hexo_path/source/tags/index.md</div></pre></td></tr></table></figure>
<p>在md文档头部添加： type: tags</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim hexo_path/source/categories/index.md</div></pre></td></tr></table></figure>
<p>在md文档头部添加： type: categories。<br>然后generate和deploy，博客上的这两个页面就会正确出现了。</p>
<h2 id="开通评论"><a href="#开通评论" class="headerlink" title="开通评论"></a>开通评论</h2><p>开通评论的方法具体见Next主题的<a href="http://theme-next.iissnan.com" target="_blank" rel="external">官网</a>。<br>开通主题后，我发现我的categories和tags页面也有评论功能，看起来很丑，也不需要，就想关闭这两个页面的评论功能。下面是具体方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim hexo_path/source/tags/index.md</div></pre></td></tr></table></figure>
<p>在md文档头部添加： comment: false</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vim hexo_path/source/categories/index.md</div></pre></td></tr></table></figure>
<p>在md文档头部添加： comment: false</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/17/第一篇博客/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="wanston">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/avatar.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Wanston's Blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Wanston's Blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/17/第一篇博客/" itemprop="url">
                  第一篇博客
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-17T20:12:50+08:00">
                2017-02-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/杂七杂八/" itemprop="url" rel="index">
                    <span itemprop="name">杂七杂八</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/02/17/第一篇博客/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/02/17/第一篇博客/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>你好，这是我的第一篇博客。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>


    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  

          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="wanston" />
          <p class="site-author-name" itemprop="name">wanston</p>
           
              <p class="site-description motion-element" itemprop="description">Stay hungry, stay foolish.</p>
          
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wanston</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"wanston"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  













  
  

  

  

  

  


</body>
</html>
